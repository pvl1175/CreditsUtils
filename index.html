<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/webrtc-adapter/3.3.3/adapter.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.10/vue.min.js"></script>
    <script type="text/javascript" src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>

    <script src="CS-API\API JS\thrift.js"></script>
    <script src="CS-API\API JS\API_4_0.js"></script>
    <script src="CS-API\API JS\api_types_4_0.js"></script>
    <script src="CS-API\API JS\general_types_4_0.js"></script>
    <script src="CS-API\API JS\Signature_4_0.js"></script>
    <script src="nacl.js"></script>
    <script src="Util.js"></script>

    <title>CREDITS API JS Demo</title>
    <script>

        function csSamples() {
            var publicKey = "5B3YXqDTcWQFGAqEJQJP3Bg1ZK8FFtHtgCiFLT5VAxpe";
            var privateKey = "3rUevsW5xfob6qDxWMDFwwTQCq39SYhzstuyfUGSDvF2QHBRyPD8fSk49wFXaPk3GztfxtuU85QHfMV3ozfqa7rN";

            var smartContractAddress = "Fdos8k7dGXuNpv3mP4RS3BEgCFZqdpQYEkWNVPEJzncF";
            var smartContractMethod1 = "hello";
            var smartContractMethod2 = "addRange";
            var smartContractMethod3 = "count";

            var cu = new CreditsUtils(publicKey, privateKey, "http://127.0.0.1:8081");
            var balance = cu.walletGetBalance();
            document.getElementById('pc-id').innerText = publicKey;
            document.getElementById('bl-id').innerText = 'Integral: ' + balance.integral + ', Fraction: ' + balance.fraction;

            document.getElementById('sm-id').innerText = smartContractAddress;
            cu.executeSmartContractMethod(smartContractAddress, smartContractMethod1, function(result) {
                //document.getElementById('res-id').innerText = result;
                console.log(result);
            });
            cu.executeSmartContractMethod(smartContractAddress, smartContractMethod2, function(result) {
                //document.getElementById('res-id').innerText = result;
            });
            cu.executeSmartContractMethod(smartContractAddress, smartContractMethod3, function(result) {
                //document.getElementById('res-id').innerText = result;
                console.log(result);
            });

            // cu.deploySmartContract("");
        } 

        function ready() {
            csSamples();
        }
        document.addEventListener("DOMContentLoaded", ready);
    </script>
</head>
<body>
    <h1 >Public Key</h1>
    <dl></dl>
    <h2 id="pc-id">Empty</h2>
    
    <h1>Balance</h1>
    <dl></dl>
    <h2 id="bl-id">0</h2>

    <h1>SmartContract Method</h1>
    <dl></dl>
    <h2 id="sm-id"></h2>
    <h2>Method: getString</h2>
    <h2 id="res-id">0</h2>
</body>
</html>